kind: OpenSearch
version: v1alpha1
kubernetesDefinitions:
  - property: nodeAffinity
    definition: io.k8s.api.core.v1.NodeAffinity
  - property: resources
    definition: io.k8s.api.core.v1.ResourceRequirements
  - property: tolerations
    definition: io.k8s.api.core.v1.Toleration
    isArray: true
properties:
  nodeGroup:
    type: string
  roles:
    type: array
    items:
      type: string
  clusterName:
    type: string
  replicas:
    type: integer
  opensearchJavaOpts:
    type: string
  plugins:
    type: object
    properties:
      enabled:
        type: boolean
      installList:
        type: array
        items:
          type: string
    requires:
      - enabled
      - installList
  keystore:
    type: array
    items:
      type: object
      properties:
        secretName:
          type: string
      requires:
        - secretName
  config:
    type: object
    additionalProperties:
      type: string
  persistence:
    type: object
    properties:
      storageClass:
        type: string
        nullable: true
      size:
        type: string
    required:
      - size
  antiAffinityTopologyKey:
    type: string
  antiAffinity:
    type: string
  nodeSelector:
    type: object
    additionalProperties:
      type: string
  ingress:
    type: object
    properties:
      enabled:
        type: boolean
      ingressClassName:
        type: string
      annotations:
        type: object
        additionalProperties:
          type: string
      path:
        type: string
      hosts:
        type: array
        items:
          type: string
      tls:
        type: array
        items:
          type: object
          properties:
            secretName:
              type: string
            hosts:
              type: array
              items:
                type: string
